$(".cookies-agreement a.success").click(function(){var t;return console.log("s"),(t=new Date).setFullYear(t.getFullYear()+10),document.cookie="cookies-agreement=1; path=.paveljanda.com; expires="+t.toGMTString(),$(".cookies-agreement").addClass("toggle")});var SectionLinks;SectionLinks=function(){function t(){}return t.prototype.init=function(){return $("h1[id], h2[id], h3[id]").each(function(){var t;return t=$('<a class="link link-section" href="#'+$(this).attr("id")+'">#</a>'),$(this).append(" "),$(this).append(t)})},t}(),$(function(){return window.sectionLinks=new SectionLinks,window.sectionLinks.init()});var Syntax;Syntax=function(){function t(){}return t.prototype.init=function(){return $("article pre").each(function(){var t;return t=$(this).html(),t=t.replace(/\$\w+/g,function(t){return'<span class="variable">'+t+"</span>"}),t=t.replace(/[^\w](use|for|if|while|do|function|abstract|public|private|protected|implements|extends)[^\w]/g,function(t){return t.match(/^[^\w].*[^\w]/)?t.substring(0,1)+'<span class="keyword">'+t.substring(1,t.length-1)+"</span>"+t.substring(t.length-1,t.length):t.match(/^[^\w].*/)?t.substring(0,1)+'<span class="keyword">'+t.substring(1,t.length-1)+"</span>":'<span class="keyword">'+t.substring(1,t.length-1)+"</span>"}),t=t.replace(/puts|print|sprintf|implode|console.log|to_s|map|sub/g,function(t){return'<span class="keyword">'+t+"</span>"}),t=t.replace(/(\'.*?\')/g,function(t){return'<span class="string">'+t+"</span>"}),t=t.replace(/(\/\/|#).*/g,function(t){return'<span class="comment">'+t+"</span>"}),t=t.replace(/\/\*\*(.|\n)*?\*\//g,function(t){return'<span class="comment">'+t+"</span>"}),$(this).html(t)})},t}(),$(function(){return window.syntax=new Syntax,window.syntax.init()}),$(function(){if($(".datagrid").length)return $.nette.ajax({type:"GET",url:$(".datagrid").first().data("refresh-state")})}),$.nette.ext("ublaboo-spinners",{before:function(t,e){var a,i,n;if(e.nette){if(a=e.nette.el,n=$('<div class="ublaboo-spinner ublaboo-spinner-small"><i></i><i></i><i></i><i></i></div>'),a.is('.datagrid [name="group_action[submit]"]'))return a.after(n);if(a.is(".datagrid a")&&a.data("toggle-detail")){if(i=e.nette.el.attr("data-toggle-detail"),!$(".item-detail-"+i).hasClass("loaded"))return a.addClass("ublaboo-spinner-icon")}else{if(a.is(".datagrid .col-pagination a"))return a.closest(".row-grid-bottom").find(".col-per-page").prepend(n);if(a.is(".datagrid .datagrid-per-page-submit"))return a.closest(".row-grid-bottom").find(".col-per-page").prepend(n);if(a.is(".datagrid .reset-filter"))return a.closest(".row-grid-bottom").find(".col-per-page").prepend(n)}}},complete:function(){return $(".ublaboo-spinner").remove(),$(".ublaboo-spinner-icon").removeClass("ublaboo-spinner-icon")}});var datagridFitlerMultiSelect,datagridGroupActionMultiSelect,datagridShiftGroupSelection,datagridSortable,datagridSortableTree,getEventDomPath,indexOf=[].indexOf||function(t){for(var e=0,a=this.length;e<a;e++)if(e in this&&this[e]===t)return e;return-1};$(document).on("click","[data-datagrid-confirm]:not(.ajax)",function(t){if(!confirm($(t.target).closest("a").attr("data-datagrid-confirm")))return t.stopPropagation(),t.preventDefault()}),$.nette.ext("datagrid.confirm",{before:function(t,e){var a;if(e.nette&&(a=e.nette.el.data("datagrid-confirm")))return confirm(a)}}),$(document).on("change","select[data-autosubmit-per-page]",function(){var t;return 0===(t=$(this).parent().find("input[type=submit]")).length&&(t=$(this).parent().find("button[type=submit]")),t.click()}).on("change","select[data-autosubmit]",function(){return $(this).closest("form").first().submit()}).on("change","input[data-autosubmit][data-autosubmit-change]",function(t){var e;return t.which||t.keyCode||0,clearTimeout(window.datagrid_autosubmit_timer),e=$(this),window.datagrid_autosubmit_timer=setTimeout(function(){return e.closest("form").first().submit()},200)}).on("keyup","input[data-autosubmit]",function(t){var e,a;if(13===(a=t.which||t.keyCode||0)||!(a>=9&&a<=40||a>=112&&a<=123))return clearTimeout(window.datagrid_autosubmit_timer),e=$(this),window.datagrid_autosubmit_timer=setTimeout(function(){return e.closest("form").first().submit()},200)}).on("keydown",".datagrid-inline-edit input",function(t){if(13===(t.which||t.keyCode||0))return t.stopPropagation(),t.preventDefault(),$(this).closest("tr").find('.col-action-inline-edit [name="inline_edit[submit]"]').click()}),$(document).on("keydown","input[data-datagrid-manualsubmit]",function(t){if(13===(t.which||t.keyCode||0))return t.stopPropagation(),t.preventDefault(),$(this).closest("form").first().submit()}),getEventDomPath=function(t){var e,a;if(indexOf.call(t,a)>=0)return t.path;for(a=[],e=t.target;e!==document.body&&null!==e;)a.push(e),e=e.parentNode;return a},(datagridShiftGroupSelection=function(){var t;return t=null,document.addEventListener("click",function(e){var a,i,n,r,d,o,l,s,c,u,g,f,h,p,m,b,v,w;for(d=0,g=(p=getEventDomPath(e)).length;d<g;d++)if(n=p[d],$(n).is(".col-checkbox")&&t&&e.shiftKey){if(i=$(n).closest("tr"),c=t.closest("tr"),u=c.closest("tbody"),a=u.find("tr").toArray(),i.index()>c.index()?w=a.slice(c.index(),i.index()):i.index()<c.index()&&(w=a.slice(i.index()+1,c.index())),!w)return;for(l=0,f=w.length;l<f;l++)v=w[l],(o=$(v).find(".col-checkbox input[type=checkbox]")[0])&&(o.checked=!0,window.navigator.userAgent.indexOf("MSIE ")?(r=document.createEvent("Event")).initEvent("change",!0,!0):r=new Event("change",{bubbles:!0}),o.dispatchEvent(r))}for(b=[],s=0,h=(m=getEventDomPath(e)).length;s<h;s++)n=m[s],$(n).is(".col-checkbox")?b.push(t=$(n)):b.push(void 0);return b})})(),document.addEventListener("change",function(t){var e,a,i,n,r,d,o,l,s,c,u;if((n=t.target.getAttribute("data-check"))&&(e=document.querySelectorAll("input[data-check-all-"+n+"]:checked"),(c=document.querySelector(".datagrid-"+n+' select[name="group_action[group_action]"]'))&&(a=document.querySelector(".datagrid-"+n+" .datagrid-selected-rows-count"),e.length?(c.disabled=!1,u=document.querySelectorAll("input[data-check-all-"+n+"]").length,a&&(a.innerHTML=e.length+"/"+u)):(c.disabled=!0,c.value="",a&&(a.innerHTML=""))),window.navigator.userAgent.indexOf("MSIE ")?(i=document.createEvent("Event")).initEvent("change",!0,!0):i=new Event("change",{bubbles:!0}),c&&c.dispatchEvent(i)),n=t.target.getAttribute("data-check-all")){for(s=[],r=0,l=(o=document.querySelectorAll("input[type=checkbox][data-check-all-"+n+"]")).length;r<l;r++)(d=o[r]).checked=t.target.checked,window.navigator.userAgent.indexOf("MSIE ")?(i=document.createEvent("Event")).initEvent("change",!0,!0):i=new Event("change",{bubbles:!0}),s.push(d.dispatchEvent(i));return s}}),window.datagridSerializeUrl=function(t,e){var a=[];for(var i in t)if(t.hasOwnProperty(i)){var n=e?e+"["+i+"]":i,r=t[i];if(null!==r&&""!==r)if("object"==typeof r){var d=window.datagridSerializeUrl(r,n);d&&a.push(d)}else a.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}return a.join("&")},datagridSortable=function(){if(void 0!==$.fn.sortable)return $(".datagrid [data-sortable]").sortable({handle:".handle-sort",items:"tr",axis:"y",update:function(t,e){var a,i,n,r,d,o,l;return o=e.item.closest("tr[data-id]"),n=o.data("id"),d=null,r=null,o.prev().length&&(d=o.prev().data("id")),o.next().length&&(r=o.next().data("id")),l=$(this).data("sortable-url"),i={},a=o.closest(".datagrid").find("tbody").attr("data-sortable-parent-path"),i[(a+"-item_id").replace(/^-/,"")]=n,i[(a+"-prev_id").replace(/^-/,"")]=d,i[(a+"-next_id").replace(/^-/,"")]=r,$.nette.ajax({type:"GET",url:l,data:i,error:function(t,e,a){return alert(t.statusText)}})},helper:function(t,e){return e.children().each(function(){return $(this).width($(this).width())}),e}})},$(function(){return datagridSortable()}),void 0===datagridSortableTree&&(datagridSortableTree=function(){if(void 0!==$(".datagrid-tree-item-children").sortable)return $(".datagrid-tree-item-children").sortable({handle:".handle-sort",items:".datagrid-tree-item:not(.datagrid-tree-header)",toleranceElement:"> .datagrid-tree-item-content",connectWith:".datagrid-tree-item-children",update:function(t,e){var a,i,n,r,d,o,l,s,c;if($(".toggle-tree-to-delete").remove(),s=e.item.closest(".datagrid-tree-item[data-id]"),n=s.data("id"),l=null,r=null,o=null,s.prev().length&&(l=s.prev().data("id")),s.next().length&&(r=s.next().data("id")),(d=s.parent().closest(".datagrid-tree-item")).length&&(d.find(".datagrid-tree-item-children").first().css({display:"block"}),d.addClass("has-children"),o=d.data("id")),c=$(this).data("sortable-url"))return d.find("[data-toggle-tree]").first().removeClass("hidden"),a=s.closest(".datagrid-tree").attr("data-sortable-parent-path"),i={},i[(a+"-item_id").replace(/^-/,"")]=n,i[(a+"-prev_id").replace(/^-/,"")]=l,i[(a+"-next_id").replace(/^-/,"")]=r,i[(a+"-parent_id").replace(/^-/,"")]=o,$.nette.ajax({type:"GET",url:c,data:i,error:function(t,e,a){if("abort"!==a)return alert(t.statusText)}})},stop:function(t,e){return $(".toggle-tree-to-delete").removeClass("toggle-tree-to-delete")},start:function(t,e){var a;if((a=e.item.parent().closest(".datagrid-tree-item")).length&&2===a.find(".datagrid-tree-item").length)return a.find("[data-toggle-tree]").addClass("toggle-tree-to-delete")}})}),$(function(){return datagridSortableTree()}),$.nette.ext("datagrid.happy",{success:function(){var t,e,a,i,n,r,d,o,l,s,c;for(window.happy&&window.happy.reset(),c=[],r=0,l=(n=$(".datagrid")).length;r<l;r++){for(e="",o=0,s=(a=n[r].classList).length;o<s;o++)e=e+"."+a[o];1===(t=document.querySelectorAll(e+" input[data-check]:checked")).length&&"toggle-all"===t[0].getAttribute("name")&&(d=document.querySelector(e+" input[name=toggle-all]"))?(d.checked=!1,window.navigator.userAgent.indexOf("MSIE ")?(i=document.createEvent("Event")).initEvent("change",!0,!0):i=new Event("change",{bubbles:!0}),c.push(d.dispatchEvent(i))):c.push(void 0)}return c}}),$.nette.ext("datagrid.sortable",{success:function(){return datagridSortable()}}),$.nette.ext("datagrid.forms",{success:function(){return $(".datagrid").find("form").each(function(){return window.Nette.initForm(this)})}}),$.nette.ext("datagrid.url",{success:function(t){var e,a,i,n;if(t._datagrid_url&&window.history.pushState&&(e=window.location.protocol+"//"+window.location.host,a=window.location.pathname,i=window.datagridSerializeUrl(t.state).replace(/&+$/gm,""),n=i?e+a+"?"+i.replace(/\&*$/,""):e+a,n+=window.location.hash,window.location.href!==n))return window.history.pushState({path:n},"",n)}}),$.nette.ext("datagrid.sort",{success:function(t){var e,a,i,n;if(t._datagrid_sort){i=t._datagrid_sort,n=[];for(a in i)e=i[a],n.push($("#datagrid-sort-"+a).attr("href",e));return n}}}),$.nette.ext("datargid.item_detail",{before:function(t,e){var a,i;if(e.nette&&e.nette.el.attr("data-toggle-detail"))return a=e.nette.el.attr("data-toggle-detail"),(i=$(".item-detail-"+a)).hasClass("loaded")?i.find(".item-detail-content").length?(i.hasClass("toggled")?i.find(".item-detail-content").slideToggle("fast",function(){return i.toggleClass("toggled")}):(i.toggleClass("toggled"),i.find(".item-detail-content").slideToggle("fast")),!1):(i.removeClass("toggled"),!0):i.addClass("loaded")},success:function(t){var e,a;if(t._datagrid_toggle_detail)return e=t._datagrid_toggle_detail,(a=$(".item-detail-"+e)).toggleClass("toggled"),a.find(".item-detail-content").slideToggle("fast")}}),$.nette.ext("datagrid.tree",{before:function(t,e){var a;return!(e.nette&&e.nette.el.attr("data-toggle-tree")&&(e.nette.el.toggleClass("toggle-rotate"),(a=e.nette.el.closest(".datagrid-tree-item").find(".datagrid-tree-item-children").first()).hasClass("loaded")))||(a.slideToggle("fast"),!1)},success:function(t){var e,a,i,n,r,d,o;if(t._datagrid_tree){i=t._datagrid_tree,(e=$('.datagrid-tree-item[data-id="'+i+'"]').find(".datagrid-tree-item-children").first()).addClass("loaded"),r=t.snippets;for(n in r)d=r[n],a=$(d),(o=$('<div class="datagrid-tree-item" id="'+n+'">')).attr("data-id",a.attr("data-id")),o.append(a),a.data("has-children")&&o.addClass("has-children"),e.append(o);e.addClass("loaded"),e.slideToggle("fast"),$.nette.load()}return datagridSortableTree()}}),$(document).on("click","[data-datagrid-editable-url]",function(t){var e,a,i,n,r,d,o,l,s,c;if(n=$(this),"a"!==t.target.tagName.toLowerCase()&&!n.hasClass("datagrid-inline-edit")&&!n.hasClass("editing")){n.addClass("editing"),r=n.html().trim().replace("<br>","\n"),c=n.data("datagrid-editable-value")?n.data("datagrid-editable-value"):r,n.data("originalValue",r),n.data("valueToEdit",c),"textarea"===n.data("datagrid-editable-type")?(l=$("<textarea>"+c+"</textarea>"),o=parseInt(n.css("padding").replace(/[^-\d\.]/g,""),10),d=(n.outerHeight()-2*o)/Math.round(parseFloat(n.css("line-height"))),l.attr("rows",Math.round(d))):"select"===n.data("datagrid-editable-type")?(l=$(n.data("datagrid-editable-element"))).find("option").each(function(){if($(this).text()===c)return l.find("option[value='"+c+"']").prop("selected",!0)}):(l=$('<input type="'+n.data("datagrid-editable-type")+'">')).val(c),i=n.data("datagrid-editable-attrs");for(e in i)a=i[e],l.attr(e,a);return n.removeClass("edited"),n.html(l),s=function(t,e){var a;return(a=e.val())!==t.data("valueToEdit")?$.nette.ajax({url:t.data("datagrid-editable-url"),data:{value:a},method:"POST",success:function(e){return"select"===t.data("datagrid-editable-type")?t.html(l.find("option[value='"+a+"']").html()):(e._datagrid_editable_new_value&&(a=e._datagrid_editable_new_value),t.html(a)),t.addClass("edited")},error:function(){return t.html(t.data("originalValue")),t.addClass("edited-error")}}):t.html(t.data("originalValue")),setTimeout(function(){return t.removeClass("editing")},1200)},n.find("input,textarea,select").focus().on("blur",function(){return s(n,$(this))}).on("keydown",function(t){return"textarea"!==n.data("datagrid-editable-type")&&13===t.which?(t.stopPropagation(),t.preventDefault(),s(n,$(this))):27===t.which?(t.stopPropagation(),t.preventDefault(),n.removeClass("editing"),n.html(n.data("originalValue"))):void 0}),n.find("select").on("change",function(){return s(n,$(this))})}}),$.nette.ext("datagrid.after_inline_edit",{success:function(t){var e;return e=$(".datagrid-"+t._datagrid_name),t._datagrid_inline_edited?(e.find("tr[data-id="+t._datagrid_inline_edited+"] > td").addClass("edited"),e.find(".datagrid-inline-edit-trigger").removeClass("hidden")):t._datagrid_inline_edit_cancel?e.find(".datagrid-inline-edit-trigger").removeClass("hidden"):void 0}}),$(document).on("click","[data-datagrid-toggle-inline-add]",function(t){var e;return t.stopPropagation(),t.preventDefault(),(e=$(this).closest(".datagrid").find(".datagrid-row-inline-add")).hasClass("datagrid-row-inline-add-hidden")&&e.removeClass("datagrid-row-inline-add-hidden"),e.find("input:not([readonly]),textarea:not([readonly])").first().focus()}),$(document).on("mouseup","[data-datagrid-cancel-inline-add]",function(t){if(1===(t.which||t.keyCode||0))return t.stopPropagation(),t.preventDefault(),$(".datagrid-row-inline-add").addClass("datagrid-row-inline-add-hidden")}),$.nette.ext("datagrid-toggle-inline-add",{success:function(t){if(t._datagrid_inline_added)return $(".datagrid-row-inline-add").find("textarea").html(""),$(".datagrid-row-inline-add").find("input[type!=submit]").val(""),$(".datagrid-row-inline-add").addClass("datagrid-row-inline-add-hidden")}}),datagridFitlerMultiSelect=function(){var t;if(t=$(".selectpicker").first(),$.fn.selectpicker)return $.fn.selectpicker.defaults={countSelectedText:t.data("i18n-selected"),iconBase:"",tickIcon:t.data("selected-icon-check")}},$(function(){return datagridFitlerMultiSelect()}),datagridGroupActionMultiSelect=function(){if($.fn.selectpicker)return $("[data-datagrid-multiselect-id]").each(function(){var t;if($(this).hasClass("selectpicker"))return $(this).removeAttr("id"),t=$(this).data("datagrid-multiselect-id"),$(this).on("loaded.bs.select",function(t){return $(this).parent().attr("style","display:none;"),$(this).parent().find(".hidden").removeClass("hidden").addClass("btn-default")}),$(this).on("rendered.bs.select",function(e){return $(this).parent().attr("id",t)})})},$(function(){return datagridGroupActionMultiSelect()}),$.nette.ext("datagrid.fitlerMultiSelect",{success:function(){if(datagridFitlerMultiSelect(),$.fn.selectpicker)return $(".selectpicker").selectpicker({iconBase:"fa"})}}),$.nette.ext("datagrid.groupActionMultiSelect",{success:function(){return datagridGroupActionMultiSelect()}}),$.nette.ext("datagrid.inline-editing",{success:function(t){if(t._datagrid_inline_editing)return $(".datagrid-"+t._datagrid_name).find(".datagrid-inline-edit-trigger").addClass("hidden")}}),$.nette.ext("datagrid.redraw-item",{success:function(t){if(t._datagrid_redraw_item_class)return $("tr[data-id="+t._datagrid_redraw_item_id+"]").attr("class",t._datagrid_redraw_item_class)}}),$.nette.ext("datagrid.reset-filter-by-column",{success:function(t){var e,a,i,n,r,d;if(t._datagrid_name&&((e=$(".datagrid-"+t._datagrid_name)).find("[data-datagrid-reset-filter-by-column]").addClass("hidden"),t.non_empty_filters&&t.non_empty_filters.length)){for(i=0,r=(d=t.non_empty_filters).length;i<r;i++)n=d[i],e.find("[data-datagrid-reset-filter-by-column="+n+"]").removeClass("hidden");return a=e.find(".reset-filter").attr("href"),e.find("[data-datagrid-reset-filter-by-column]").each(function(){var e;return n=$(this).attr("data-datagrid-reset-filter-by-column"),e=a.replace("do="+t._datagrid_name+"-resetFilter","do="+t._datagrid_name+"-resetColumnFilter"),e+="&"+t._datagrid_name+"-key="+n,$(this).attr("href",e)})}}});